<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chakr - Smart Food Waste Reduction</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <div class="logo-container">
                <div class="logo-3d">
                    <div class="logo-center">
                        <span class="logo-text">Chakr</span>
                        <div class="orbit-ring ring-1"></div>
                        <div class="orbit-ring ring-2"></div>
                        <div class="orbit-ring ring-3"></div>
                    </div>
                </div>
                <h1 class="welcome-title">Smart Food Waste Reduction</h1>
                <p class="welcome-subtitle">Connect. Share. Save. Together we can eliminate food waste.</p>
            </div>
            
            <div class="role-selection">
                <h2>Choose Your Role</h2>
                <div class="role-cards">
                    <div class="role-card" data-role="provider" onclick="selectRole('provider')">
                        <div class="role-icon provider-icon">üçΩÔ∏è</div>
                        <h3>Provider</h3>
                        <p>Donate excess food from your kitchen, mess, or restaurant</p>
                        <div class="role-stats">185 donations made</div>
                    </div>
                    
                    <div class="role-card" data-role="consumer" onclick="selectRole('consumer')">
                        <div class="role-icon consumer-icon">‚ù§Ô∏è</div>
                        <h3>Consumer</h3>
                        <p>Find and request food donations for your NGO or community</p>
                        <div class="role-stats">124 requests fulfilled</div>
                    </div>
                    
                    <div class="role-card" data-role="volunteer" onclick="selectRole('volunteer')">
                        <div class="role-icon volunteer-icon">üéì</div>
                        <h3>Volunteer</h3>
                        <p>Help coordinate pickups and deliveries in your area</p>
                        <div class="role-stats">68 hours logged</div>
                    </div>
                    
                    <div class="role-card" data-role="admin" onclick="selectRole('admin')">
                        <div class="role-icon admin-icon">üõ†Ô∏è</div>
                        <h3>Admin</h3>
                        <p>Manage the platform and monitor system-wide activities</p>
                        <div class="role-stats">2847 meals saved</div>
                    </div>
                </div>
            </div>
            
            <div class="welcome-footer">
                <div class="language-toggle">
                    <button class="lang-btn active" data-lang="en" onclick="toggleLanguage('en')">English</button>
                    <button class="lang-btn" data-lang="hi" onclick="toggleLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
                </div>
                <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
                    <span class="material-icons">dark_mode</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Provider Interface -->
    <div id="providerScreen" class="screen">
        <nav class="top-nav provider-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Provider Dashboard</h1>
            </div>
            <div class="nav-right">
                <div class="impact-counter">
                    <span class="counter-value" data-counter="185">185</span>
                    <span class="counter-label">meals donated</span>
                </div>
                <button class="profile-btn">
                    <span class="material-icons">account_circle</span>
                </button>
            </div>
        </nav>

        <div class="main-content">
            <div class="provider-dashboard" id="providerContent">
                <!-- Content will be dynamically loaded based on bottom nav -->
            </div>
        </div>

        <nav class="bottom-nav provider-theme">
            <button class="nav-item active" data-section="dashboard" onclick="switchProviderSection('dashboard')">
                <span class="material-icons">dashboard</span>
                <span>Dashboard</span>
            </button>
            <button class="nav-item" data-section="upload" onclick="switchProviderSection('upload')">
                <span class="material-icons">cloud_upload</span>
                <span>Upload</span>
            </button>
            <button class="nav-item" data-section="donations" onclick="switchProviderSection('donations')">
                <span class="material-icons">restaurant</span>
                <span>Manage</span>
            </button>
            <button class="nav-item" data-section="profile" onclick="switchProviderSection('profile')">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Consumer Interface -->
    <div id="consumerScreen" class="screen">
        <nav class="top-nav consumer-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Find Food</h1>
            </div>
            <div class="nav-right">
                <button class="filter-btn" onclick="toggleFilters()">
                    <span class="material-icons">filter_list</span>
                </button>
                <button class="notification-btn" onclick="showNotifications()">
                    <span class="material-icons">notifications</span>
                    <span class="notification-badge" id="notificationBadge">3</span>
                </button>
            </div>
        </nav>

        <div class="main-content">
            <div class="consumer-dashboard" id="consumerContent">
                <!-- Content will be dynamically loaded -->
            </div>
        </div>

        <nav class="bottom-nav consumer-theme">
            <button class="nav-item active" data-section="browse" onclick="switchConsumerSection('browse')">
                <span class="material-icons">restaurant_menu</span>
                <span>Browse</span>
            </button>
            <button class="nav-item" data-section="map" onclick="switchConsumerSection('map')">
                <span class="material-icons">map</span>
                <span>Map</span>
            </button>
            <button class="nav-item" data-section="requests" onclick="switchConsumerSection('requests')">
                <span class="material-icons">shopping_cart</span>
                <span>Requests</span>
            </button>
            <button class="nav-item" data-section="profile" onclick="switchConsumerSection('profile')">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Volunteer Interface -->
    <div id="volunteerScreen" class="screen">
        <nav class="top-nav volunteer-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Volunteer Hub</h1>
            </div>
            <div class="nav-right">
                <div class="level-badge">
                    <span class="level-icon">üèÜ</span>
                    <span class="level-text">Platinum</span>
                </div>
                <div class="hours-counter">
                    <span class="counter-value" data-counter="68">68h</span>
                    <span class="counter-label">logged</span>
                </div>
            </div>
        </nav>

        <div class="main-content">
            <div class="volunteer-dashboard" id="volunteerContent">
                <!-- Content will be dynamically loaded -->
            </div>
        </div>

        <nav class="bottom-nav volunteer-theme">
            <button class="nav-item active" data-section="tasks" onclick="switchVolunteerSection('tasks')">
                <span class="material-icons">assignment</span>
                <span>Tasks</span>
            </button>
            <button class="nav-item" data-section="map" onclick="switchVolunteerSection('map')">
                <span class="material-icons">map</span>
                <span>Task Map</span>
            </button>
            <button class="nav-item" data-section="learning" onclick="switchVolunteerSection('learning')">
                <span class="material-icons">school</span>
                <span>Learning</span>
            </button>
            <button class="nav-item" data-section="profile" onclick="switchVolunteerSection('profile')">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Admin Interface -->
    <div id="adminScreen" class="screen">
        <div class="admin-layout">
            <aside class="admin-sidebar">
                <div class="sidebar-header">
                    <button class="back-btn" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </button>
                    <h2>Admin Panel</h2>
                </div>
                <nav class="sidebar-nav">
                    <button class="nav-item active" data-section="dashboard" onclick="switchAdminSection('dashboard')">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </button>
                    <button class="nav-item" data-section="users" onclick="switchAdminSection('users')">
                        <span class="material-icons">people</span>
                        <span>Users</span>
                    </button>
                    <button class="nav-item" data-section="donations" onclick="switchAdminSection('donations')">
                        <span class="material-icons">restaurant</span>
                        <span>Donations</span>
                    </button>
                    <button class="nav-item" data-section="analytics" onclick="switchAdminSection('analytics')">
                        <span class="material-icons">analytics</span>
                        <span>Analytics</span>
                    </button>
                    <button class="nav-item" data-section="monitoring" onclick="switchAdminSection('monitoring')">
                        <span class="material-icons">monitor</span>
                        <span>Monitoring</span>
                    </button>
                </nav>
            </aside>

            <main class="admin-main">
                <div id="adminContent">
                    <!-- Content will be dynamically loaded -->
                </div>
            </main>
        </div>
    </div>

    <!-- Food Request Modal -->
    <div id="foodModal" class="modal hidden">
        <div class="modal-backdrop" onclick="hideFoodModal()"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3 id="modalTitle">Food Details</h3>
                <button class="modal-close" onclick="hideFoodModal()">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content populated by JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline modal-cancel" onclick="hideFoodModal()">Cancel</button>
                <button class="btn btn--primary modal-confirm" id="modalConfirmBtn">Request Food</button>
            </div>
        </div>
    </div>

    <!-- Task Details Modal -->
    <div id="taskModal" class="modal hidden">
        <div class="modal-backdrop" onclick="hideTaskModal()"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3 id="taskModalTitle">Task Details</h3>
                <button class="modal-close" onclick="hideTaskModal()">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body" id="taskModalBody">
                <!-- Content populated by JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline modal-cancel" onclick="hideTaskModal()">Cancel</button>
                <button class="btn btn--primary modal-confirm" id="taskModalConfirmBtn">Accept Task</button>
            </div>
        </div>
    </div>

    <!-- Notification Panel -->
    <div id="notificationPanel" class="notification-panel hidden">
        <div class="notification-header">
            <h3>Notifications</h3>
            <button class="notification-close" onclick="hideNotifications()">
                <span class="material-icons">close</span>
            </button>
        </div>
        <div class="notification-list" id="notificationList">
            <!-- Notifications populated by JS -->
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast hidden">
        <div class="toast-content">
            <span class="toast-icon"></span>
            <span class="toast-message"></span>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner hidden">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Confetti Container -->
    <div id="confettiContainer" class="confetti-container"></div>

    <script src="app.js"></script>
</body>
</html>