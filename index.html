<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chakr - Smart Food Waste Reduction</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <div class="logo-container">
                <div class="logo-3d">
                    <div class="logo-center">
                        <span class="logo-text">Chakr</span>
                        <div class="orbit-ring ring-1"></div>
                        <div class="orbit-ring ring-2"></div>
                        <div class="orbit-ring ring-3"></div>
                    </div>
                </div>
                <h1 class="welcome-title">Smart Food Waste Reduction</h1>
                <p class="welcome-subtitle">Connect. Share. Save. Together we can eliminate food waste.</p>
            </div>
            
            <div class="role-selection">
                <h2>Choose Your Role</h2>
                <div class="role-cards">
                    <div class="role-card" data-role="provider" onclick="selectRole('provider')">
                        <div class="role-icon provider-icon">üçΩÔ∏è</div>
                        <h3>Provider</h3>
                        <p>Donate excess food from your kitchen, mess, or restaurant</p>
                        <div class="role-stats">150+ donations made</div>
                    </div>
                    
                    <div class="role-card" data-role="consumer" onclick="selectRole('consumer')">
                        <div class="role-icon consumer-icon">‚ù§Ô∏è</div>
                        <h3>Consumer</h3>
                        <p>Find and request food donations for your NGO or community</p>
                        <div class="role-stats">89 requests fulfilled</div>
                    </div>
                    
                    <div class="role-card" data-role="volunteer" onclick="selectRole('volunteer')">
                        <div class="role-icon volunteer-icon">üéì</div>
                        <h3>Volunteer</h3>
                        <p>Help coordinate pickups and deliveries in your area</p>
                        <div class="role-stats">45 hours logged</div>
                    </div>
                    
                    <div class="role-card" data-role="admin" onclick="selectRole('admin')">
                        <div class="role-icon admin-icon">üõ†Ô∏è</div>
                        <h3>Admin</h3>
                        <p>Manage the platform and monitor system-wide activities</p>
                        <div class="role-stats">1247 meals saved</div>
                    </div>
                </div>
            </div>
            
            <div class="welcome-footer">
                <div class="language-toggle">
                    <button class="lang-btn active" data-lang="en" onclick="toggleLanguage('en')">English</button>
                    <button class="lang-btn" data-lang="hi" onclick="toggleLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
                </div>
                <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
                    <span class="material-icons">dark_mode</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Provider Interface -->
    <div id="providerScreen" class="screen">
        <nav class="top-nav provider-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Provider Dashboard</h1>
            </div>
            <div class="nav-right">
                <div class="impact-counter">
                    <span class="counter-value" data-counter="150">150</span>
                    <span class="counter-label">meals donated</span>
                </div>
                <button class="profile-btn">
                    <span class="material-icons">account_circle</span>
                </button>
            </div>
        </nav>

        <div class="main-content">
            <div class="provider-dashboard">
                <!-- Upload Food Section -->
                <section class="upload-section glass-card">
                    <h2>üçΩÔ∏è Upload Food Donation</h2>
                    <div class="upload-form">
                        <div class="camera-section">
                            <div class="camera-preview">
                                <span class="material-icons camera-icon">photo_camera</span>
                                <p>Tap to capture or upload food image</p>
                                <button class="camera-btn">
                                    <span class="material-icons">add_a_photo</span>
                                    Add Photo
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Food Item</label>
                                <input type="text" placeholder="e.g., Rice & Dal" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Quantity</label>
                                <input type="text" placeholder="e.g., 5kg" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Expiry Time</label>
                                <select class="form-control">
                                    <option>1 hour</option>
                                    <option>2 hours</option>
                                    <option>4 hours</option>
                                    <option>6 hours</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Dietary Tags</label>
                                <div class="tag-selector">
                                    <span class="tag">Vegetarian</span>
                                    <span class="tag">Vegan</span>
                                    <span class="tag">Gluten-free</span>
                                    <span class="tag">Organic</span>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn--primary btn--full-width upload-btn">
                            <span class="material-icons">cloud_upload</span>
                            Post Donation
                        </button>
                    </div>
                </section>

                <!-- Active Donations -->
                <section class="donations-section glass-card">
                    <h2>üìã Active Donations</h2>
                    <div class="donations-list" id="providerDonations">
                        <!-- Populated by JS -->
                    </div>
                </section>

                <!-- Impact Tracker -->
                <section class="impact-section glass-card">
                    <h2>üìä Your Impact</h2>
                    <div class="impact-grid">
                        <div class="impact-card">
                            <div class="impact-icon">üçΩÔ∏è</div>
                            <div class="impact-value" data-counter="150">150</div>
                            <div class="impact-label">Meals Donated</div>
                        </div>
                        <div class="impact-card">
                            <div class="impact-icon">üå±</div>
                            <div class="impact-value" data-counter="75.5">75.5kg</div>
                            <div class="impact-label">CO‚ÇÇ Saved</div>
                        </div>
                        <div class="impact-card">
                            <div class="impact-icon">‚≠ê</div>
                            <div class="impact-value" data-counter="4.8">4.8</div>
                            <div class="impact-label">Rating</div>
                        </div>
                        <div class="impact-card">
                            <div class="impact-icon">üèÜ</div>
                            <div class="impact-value" data-counter="12">12</div>
                            <div class="impact-label">Badges Earned</div>
                        </div>
                    </div>
                    <div class="impact-chart">
                        <canvas id="providerChart"></canvas>
                    </div>
                </section>

                <!-- Achievements -->
                <section class="achievements-section glass-card">
                    <h2>üèÜ Achievements</h2>
                    <div class="badges-container" id="providerBadges">
                        <!-- Populated by JS -->
                    </div>
                </section>
            </div>
        </div>

        <nav class="bottom-nav provider-theme">
            <button class="nav-item active" data-section="dashboard">
                <span class="material-icons">dashboard</span>
                <span>Dashboard</span>
            </button>
            <button class="nav-item" data-section="donations">
                <span class="material-icons">restaurant</span>
                <span>Donations</span>
            </button>
            <button class="nav-item" data-section="impact">
                <span class="material-icons">eco</span>
                <span>Impact</span>
            </button>
            <button class="nav-item" data-section="profile">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Consumer Interface -->
    <div id="consumerScreen" class="screen">
        <nav class="top-nav consumer-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Find Food</h1>
            </div>
            <div class="nav-right">
                <button class="filter-btn">
                    <span class="material-icons">filter_list</span>
                </button>
                <button class="map-btn">
                    <span class="material-icons">map</span>
                </button>
            </div>
        </nav>

        <div class="main-content">
            <div class="consumer-dashboard">
                <!-- Search & Filters -->
                <section class="search-section glass-card">
                    <div class="search-bar">
                        <span class="material-icons">search</span>
                        <input type="text" placeholder="Search food items..." class="search-input">
                    </div>
                    <div class="filter-chips">
                        <span class="chip active">All</span>
                        <span class="chip">Vegetarian</span>
                        <span class="chip">Vegan</span>
                        <span class="chip">< 2km</span>
                        <span class="chip">Available Now</span>
                    </div>
                </section>

                <!-- Available Food -->
                <section class="food-section glass-card">
                    <h2>üçΩÔ∏è Available Food</h2>
                    <div class="food-grid" id="consumerFoodList">
                        <!-- Populated by JS -->
                    </div>
                </section>

                <!-- Map View -->
                <section class="map-section glass-card">
                    <h2>üó∫Ô∏è Map View</h2>
                    <div class="map-container">
                        <div class="map-placeholder">
                            <span class="material-icons map-icon">location_on</span>
                            <p>Interactive map showing nearby food donations</p>
                            <div class="map-markers">
                                <div class="marker" style="top: 30%; left: 40%;">
                                    <span class="material-icons">restaurant</span>
                                </div>
                                <div class="marker" style="top: 60%; left: 60%;">
                                    <span class="material-icons">restaurant</span>
                                </div>
                                <div class="marker" style="top: 45%; left: 25%;">
                                    <span class="material-icons">restaurant</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Request History -->
                <section class="history-section glass-card">
                    <h2>üìú Request History</h2>
                    <div class="history-list" id="consumerHistory">
                        <!-- Populated by JS -->
                    </div>
                </section>
            </div>
        </div>

        <nav class="bottom-nav consumer-theme">
            <button class="nav-item active" data-section="browse">
                <span class="material-icons">restaurant_menu</span>
                <span>Browse</span>
            </button>
            <button class="nav-item" data-section="map">
                <span class="material-icons">map</span>
                <span>Map</span>
            </button>
            <button class="nav-item" data-section="requests">
                <span class="material-icons">shopping_cart</span>
                <span>Requests</span>
            </button>
            <button class="nav-item" data-section="profile">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Volunteer Interface -->
    <div id="volunteerScreen" class="screen">
        <nav class="top-nav volunteer-theme">
            <div class="nav-left">
                <button class="back-btn" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1>Volunteer Hub</h1>
            </div>
            <div class="nav-right">
                <div class="level-badge">
                    <span class="level-icon">üèÜ</span>
                    <span class="level-text">Gold</span>
                </div>
                <div class="hours-counter">
                    <span class="counter-value" data-counter="45">45h</span>
                    <span class="counter-label">logged</span>
                </div>
            </div>
        </nav>

        <div class="main-content">
            <div class="volunteer-dashboard">
                <!-- Available Tasks -->
                <section class="tasks-section glass-card">
                    <h2>üéØ Available Tasks</h2>
                    <div class="tasks-list" id="volunteerTasks">
                        <!-- Populated by JS -->
                    </div>
                </section>

                <!-- Learning Center -->
                <section class="learning-section glass-card">
                    <h2>üìö Learning Center</h2>
                    <div class="quiz-container">
                        <div class="quiz-card">
                            <h3>Food Safety Quiz</h3>
                            <p>Test your knowledge on safe food handling practices</p>
                            <div class="quiz-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%"></div>
                                </div>
                                <span>6/10 completed</span>
                            </div>
                            <button class="btn btn--outline">Continue Quiz</button>
                        </div>
                    </div>
                </section>

                <!-- Service Hours & Certificates -->
                <section class="certificates-section glass-card">
                    <h2>üìú Service & Certificates</h2>
                    <div class="service-stats">
                        <div class="stat-card">
                            <div class="stat-icon">‚è±Ô∏è</div>
                            <div class="stat-value">45</div>
                            <div class="stat-label">Hours Logged</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-value">23</div>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìú</div>
                            <div class="stat-value">3</div>
                            <div class="stat-label">Certificates</div>
                        </div>
                    </div>
                    <button class="btn btn--primary generate-cert-btn">
                        <span class="material-icons">get_app</span>
                        Generate Certificate
                    </button>
                </section>

                <!-- Leaderboard -->
                <section class="leaderboard-section glass-card">
                    <h2>üèÜ Leaderboard</h2>
                    <div class="leaderboard-list" id="volunteerLeaderboard">
                        <!-- Populated by JS -->
                    </div>
                </section>
            </div>
        </div>

        <nav class="bottom-nav volunteer-theme">
            <button class="nav-item active" data-section="tasks">
                <span class="material-icons">assignment</span>
                <span>Tasks</span>
            </button>
            <button class="nav-item" data-section="learning">
                <span class="material-icons">school</span>
                <span>Learning</span>
            </button>
            <button class="nav-item" data-section="certificates">
                <span class="material-icons">card_membership</span>
                <span>Certificates</span>
            </button>
            <button class="nav-item" data-section="profile">
                <span class="material-icons">person</span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <!-- Admin Interface -->
    <div id="adminScreen" class="screen">
        <div class="admin-layout">
            <aside class="admin-sidebar">
                <div class="sidebar-header">
                    <button class="back-btn" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </button>
                    <h2>Admin Panel</h2>
                </div>
                <nav class="sidebar-nav">
                    <button class="nav-item active" data-section="dashboard">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </button>
                    <button class="nav-item" data-section="users">
                        <span class="material-icons">people</span>
                        <span>Users</span>
                    </button>
                    <button class="nav-item" data-section="donations">
                        <span class="material-icons">restaurant</span>
                        <span>Donations</span>
                    </button>
                    <button class="nav-item" data-section="analytics">
                        <span class="material-icons">analytics</span>
                        <span>Analytics</span>
                    </button>
                    <button class="nav-item" data-section="reports">
                        <span class="material-icons">assessment</span>
                        <span>Reports</span>
                    </button>
                </nav>
            </aside>

            <main class="admin-main">
                <!-- Dashboard Overview -->
                <section class="admin-dashboard">
                    <div class="stats-grid">
                        <div class="stat-card glass-card">
                            <div class="stat-header">
                                <span class="material-icons stat-icon">restaurant</span>
                                <h3>Meals Saved</h3>
                            </div>
                            <div class="stat-value" data-counter="1247">1,247</div>
                            <div class="stat-change positive">+12% from last week</div>
                        </div>
                        
                        <div class="stat-card glass-card">
                            <div class="stat-header">
                                <span class="material-icons stat-icon">eco</span>
                                <h3>Waste Reduced</h3>
                            </div>
                            <div class="stat-value" data-counter="623.5">623.5kg</div>
                            <div class="stat-change positive">+8% from last week</div>
                        </div>
                        
                        <div class="stat-card glass-card">
                            <div class="stat-header">
                                <span class="material-icons stat-icon">cloud</span>
                                <h3>CO‚ÇÇ Saved</h3>
                            </div>
                            <div class="stat-value" data-counter="311.75">311.75kg</div>
                            <div class="stat-change positive">+15% from last week</div>
                        </div>
                        
                        <div class="stat-card glass-card">
                            <div class="stat-header">
                                <span class="material-icons stat-icon">people</span>
                                <h3>Active Users</h3>
                            </div>
                            <div class="stat-value" data-counter="89">89</div>
                            <div class="stat-change positive">+5 new today</div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="charts-grid">
                        <div class="chart-card glass-card">
                            <h3>Weekly Food Distribution</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="adminChart1"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card glass-card">
                            <h3>User Engagement</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="adminChart2"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Feed -->
                    <div class="activity-section glass-card">
                        <h3>Recent Activity</h3>
                        <div class="activity-feed" id="adminActivity">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- Export Section -->
                    <div class="export-section glass-card">
                        <h3>Export Reports</h3>
                        <div class="export-buttons">
                            <button class="btn btn--outline">
                                <span class="material-icons">file_download</span>
                                Export PDF
                            </button>
                            <button class="btn btn--outline">
                                <span class="material-icons">file_download</span>
                                Export Excel
                            </button>
                            <button class="btn btn--primary">
                                <span class="material-icons">analytics</span>
                                Generate Report
                            </button>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal for Food Details -->
    <div id="foodModal" class="modal hidden">
        <div class="modal-backdrop" onclick="hideFoodModal()"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3 id="modalTitle">Food Details</h3>
                <button class="modal-close" onclick="hideFoodModal()">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content populated by JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline modal-cancel" onclick="hideFoodModal()">Cancel</button>
                <button class="btn btn--primary modal-confirm" onclick="requestFood(document.getElementById('foodModal').dataset.foodId)">Request Food</button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast hidden">
        <div class="toast-content">
            <span class="toast-icon"></span>
            <span class="toast-message"></span>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confettiContainer" class="confetti-container"></div>

    <script src="app.js"></script>
</body>
</html>